window.ASTC={version:"1.2.01",RGBToHex:function(t){void 0===t&&(t="rgb(255,255,255)");let o=t.indexOf(",")>-1?",":" ",n=(+(t=t.substr(4).split(")")[0].split(o))[0]).toString(16),r=(+t[1]).toString(16),e=(+t[2]).toString(16);return 1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),1==e.length&&(e="0"+e),"#"+n+r+e},str_split:function(t,o){return t.match(new RegExp("[^]{"+parseInt(o||"1",10)+"}","g"))},getContrast:function(t){if(3==(t=t.replace("#","")).length){var o=str_split(t,1);t="",o.each((function(n){t+=o[n]+o[n]}))}var n=parseInt(t,16),r=[255&n>>16,255&n>>8,255&n];return contrast=(Math.round(299*r[0])+Math.round(587*r[1])+Math.round(114*r[2]))/1e3,contrast},checkColor:function(t){return!(ASTC.getContrast(t)>=125)},checkColorBtn:function(t){return!(ASTC.getContrast(t)>=180)},getContrastColor:function(t){return ASTC.checkColor(t)?"#000000":"#ffffff"},makeDarkOrLight:function(t){var o=$("#b_"+t),n=o.css("background-color");"rgba(0, 0, 0, 0)"!=n&&((n=ASTC.RGBToHex(n))&&ASTC.checkColor(n)?o.addClass("dark"):o.removeClass("dark")),$(".bg_color").length&&o.find(".bg_color").each((function(){var t=$(this).css("display"),o=$(this).css("background-color");"rgba(0, 0, 0, 0)"!=o&&((o=ASTC.RGBToHex(o))&&ASTC.checkColor(o)&&"none"!=t?$(this).parent().addClass("dark"):o&&!ASTC.checkColor(o)&&"block"==t&&$(this).parent().addClass("light"))})),o.find(".bg_right, .form_bg_color, .col_bg").each((function(){var t=$(this).css("background-color");"rgba(0, 0, 0, 0)"!=t&&(t=ASTC.RGBToHex(t))&&ASTC.checkColor(t)&&$(this).parent().addClass("dark")})),o.find(".surround, .extra_info_block, .text_block, .col_3, .col_4, .txt_and_btn, .table .line, .icon_layer, .tile").each((function(){var t=$(this).css("background-color");"none"==t&&(t=$(this).closest(".section").css("background-color")),"rgba(0, 0, 0, 0)"!=t&&(t=ASTC.RGBToHex(t))&&ASTC.checkColor(t)&&$(this).addClass("dark")}))},checkSectionsColor:function(){$(".section").each((function(){var t=$(this).data("id");ASTC.getImageContrastColor(t),ASTC.makeDarkOrLight(t)}))},checkBackgroundImageInUse:function(t){var o=$("#b_"+t).css("background-image");return!(!o||"undefined"==o||null==o||"none"==o||o.indexOf("null.png")>-1||o.indexOf("linear-gradient")>-1)},getImageContrastColor:function(t){if(!ASTC.checkBackgroundImageInUse(t))return!1;var o=$("#b_"+t),n=o.css("background-image").match(/url\(["']?([^"']*)["']?\)/)[1],r=new Image;r.src=n,r.style.display="none",document.body.appendChild(r),r.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=r.width,t.height=r.height,n.drawImage(r,0,0),r.remove();var e=n.getImageData(0,0,t.width,t.height).data,c=4*(500*t.width+500),a="#"+((1<<24)+(e[c]<<16)+(e[c+1]<<8)+e[c+2]).toString(16).slice(1);if("#000000"==a)return!1;a&&ASTC.checkColor(a)?o.addClass("dark"):o.removeClass("dark"),o.find(".bg_right, .form_bg_color, .col_bg").each((function(){var t=$(this).css("opacity");a&&ASTC.checkColor(a)&&t<.5&&$(this).parent().addClass("dark")}))}},checkSubstring:function(t,o){return!!t.includes(o)}},$((function(){ASTC.checkSectionsColor(),$("body").on("change mouseover mouseout","input.choose_bg_color, .surround",(function(){checkSectionsColor()})),setInterval((function(){$("li span").each((function(t){var o=$(this).css("font-size"),n=$(this).css("color");$(this).parent("li").css("font-size",o),$(this).parent("li").css("color",n)}))}),100);var t=$(".clip_influx").length;$(".clip_influx:not(.clip_none)").each((function(o){var n=15+t-o,r=Math.round(-1*$(this).outerHeight()*.06,1)+"px";$(this).attr("style",$(this).attr("style")+" --cliped-margin-bottom: "+r),$(this).css("z-index",n)}))}));